
ПровестиАнализДокумента
=======================

**Синтаксис:**

ПровестиАнализДокумента(Параметры)

**Описание:**

Ищет в 1С документ для сопоставления, записывает документ 1С и ошибки сопоставления в ДокументДД.

Вызывается действием "Выполнить анализ пакета". Сначала для каждого документа выполняется событие ПровестиАнализДокумента, потом ПослеАнализаПакета.

**Входные параметры:**

**Параметры** (тип Структура)

      **Элементы структуры:**

      * **Документ** (тип Структура) — электронный :doc:`документ <../../objects/Документ>`, для которого надо провести анализ.
      * **ДокументДД** (тип СправочникСсылка.Диадок_Документы) — содержит описание электронного документа, для которого надо провести анализ.
      * **ПакетДД** (тип СправочникСсылка.Диадок_ПакетыДокументов) — содержит описание пакета, к которому относится электронный документ.
      * **РезультатАнализа** (тип Структура) — структура, содержащая поля для сохранения результата анализа.

**Возвращает:**

Структура

      **Элементы структуры:**

      * **Ошибки** (тип Массив) — массив строк с описаниями ошибок.
      * **ДокументДляСопоставления** — ссылка на документ или справочник 1С, сооответствующий данному документу.
      * **ДействиеВ1С** (тип Строка) — действие, которое необходимо выполнить с данным документом в 1С. Например, "СоздатьСчетФактуру", "ПометитьНаУдаление" и т.д.
      * **ДействиеВДД** (тип Строка) — действие, которое необходимо выполнить с данным документом на сервере Диадока. Допустимые варианты: "Подписать", "ОтказатьВПодписи", "ЗапроситьУточнение".
      * **ТипОшибкиВалидации** (тип Строка) — произвольный текст, отображаемый в списке, для классификации ошибок.
      * **КонтентОтвета** (тип XDTO) — объектXDTO, соответствующий титулу покупателя (для формализованных документов) или отказу в подписи. Именно такой ответ будет отправлен на сервер Диадока, если заполнено поле "ДействиеВДД".


